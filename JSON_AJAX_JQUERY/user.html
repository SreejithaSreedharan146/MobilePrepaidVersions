<!DOCTYPE html>
<html>
    <head>
        <title>Json example 1</title>
        <style>
            button{
                border-radius: 10px;
            }
            #userTable{
                border: 2px solid lightblue;
                margin: 20px;
                padding: 20px;
            }
            #th1,#th2{
                border: 2px solid rgb(197, 227, 197);
                margin-right: 30px;
                font-family:'Times New Roman', Times, serif;
                font-weight: lighter;
            }
            tr{
                background-color: beige;
            }
            td{
               background-color:rgb(237, 246, 237);
            }
        </style>
    </head>
    <body>
        <!-- <p id="para"> </p> -->
        <button onclick="getUsers()">load users</button>
        <table id="userTable">
            <thead>
                <tr>
                    <th id="th1">Name</th>
                    <th id="th2">Email</th>
                </tr>
            </thead>
            <tbody id="userTableBody"> </tbody>
            <p id="name"></p>
        <script>
            function getUsers(){
                fetch("https://jsonplaceholder.typicode.com/users")
            .then((response)=>response.json())
            // .then((data)=>console.log(data[3].name))
            //to display on browser <p>, getelement
            // .then((data)=>document.getElementById("name").textContent=data[3].name)
            // .catch((error)=>console.error("Error:",error));
            .then((data)=> {
                console.log(data);
                let userTableBody=document.getElementById("userTableBody");
                userTableBody.innerHTML="";//clears previous data

                data.forEach((user) => {
                    let tr=document.createElement("tr");
                    let tdName=document.createElement("td");
                    let tdemail=document.createElement("td");
                    tdName.textContent=user.name;
                    tdemail.textContent=user.email;
                    tr.appendChild(tdName);
                    tr.appendChild(tdemail);
                    userTableBody.appendChild(tr);
                });
                
            })
            }
            
        </script>
         </table>
    </body>
</html>